!function(a){"use strict";var b=function(a,b){for(var c=-1,d=0;d<a.length;d++)a[d]===b&&(c=d);return c},c=function(){};a.console||(a.console={log:c,warn:c,error:c});var d=function(){var b={root:"",mod:"async"},c=/^\s*(src|href|type|path|rel)\s*$/,d=/^\s*(?:http:\/\/|\/|\.\/|\.\.\/)/,e=/\/$/,f=document.head||document.getElementsByTagName("head")[0],g=function(a){for(var c in a)a.hasOwnProperty(c)&&b.hasOwnProperty(c)&&(b[c]=a[c])},h=function(b){(a.execScript||function(b){a.eval.call(a,b)})(b)},i=function(a,b,c){f.appendChild(a),a.type="text",a.text=c,a.src=b,a.type="text/javascript"},j=function(a){var c=b.root?b.root.replace(e,"")+"/":"",f=d.test(a);return f?a:c+a},k=function(a,b,d){for(var e in a)a.hasOwnProperty(e)&&!c.test(e)&&b.setAttribute(e,d&&"data-main"===e?j(a[e]):a[e])},l=function(a){var b=new XMLHttpRequest;if(b.open("GET",a,!1),b.send(),200!==b.status)throw new Error(a+":"+b.status+" "+b.statusText);return b.responseText},m=function(){for(var a,c,d,e,g=b.mod,m=-1===g.search("async"),n=-1!==g.search("async")&&-1===g.search("noteval"),o=-1!==g.search("async")&&-1!==g.search("noteval"),p=arguments[0],q=arguments[1]||function(){console.log("all loaded")},r=0,s=[],t=0;t<p.length;t++)a=p[t],a="object"==typeof a?a:{path:a},d=j(a.path),c=document.createElement("script"),m?(e=l(d),h(e),i(c,d,e),s.push(c),k(a,c,!0)):n?(c.src=d,r++,c.onload=c.onreadystatechange=function(){this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||0===--r&&q(s)},f.appendChild(c),s.push(c),k(a,c,!0)):o&&(r++,function(){var b=new XMLHttpRequest;b.src=d,b.file=a,b.open("GET",d),b.onreadystatechange=function(){var a;if(4==this.readyState){if(200!==this.status)throw new Error(this.src+":"+this.status+" "+this.responseText);s.push(this.responseText),a=document.createElement("script"),i(a,this.src,this.responseText),0===--r&&q(s),k(this.file,a,!0)}},b.send()}());"sync"===b.mod&&q(s)},n=function(a){a="object"==typeof a?a:{path:a};var b=document.createElement("link"),c=a.rel||"stylesheet";b.href=j(a.path),b.rel=c,k(a,b,!1),f.appendChild(b)},o=function(a){return l(j(a))};return{config:g,loadJs:m,loadCss:n,loadHtml:o,globalEval:h}}();!function(){var c,e,f=/require\s*\(\s*['"]\s*([^()"']+)\s*['"]\s*\)/g,g=/\/$/,h=/\.js$/,i=/(?:(\.css)|(\.html))$/,j={pending:0},k=[],l=function(a){return a?a.replace(g,"")+"/":""},m=function(a){return!i.test(a)},n=function(a){return i.exec(a)?!!i.exec(a)[1]:!1},o=function(a){return i.exec(a)?!!i.exec(a)[2]:!1},p=function(a){if(m(a)){var b=a.replace(h,""),c=j[b];if(1===c.status)console.log("compling "+c.id),c.compile(c),c.status=2;else if(0===c.status)throw new Error("模块"+a+"未被正确加载！");return c.exports}if(n(a))d.loadCss(a);else if(o(a))return d.loadHtml(a)},q=function(a,c,g){var i,l=a.replace(h,""),n=g+" "+l,o=l+" "+g;if(c=g?c:"",g){if(-1!==b(k,n))throw new Error("循环引用："+g+","+l);k.push(o)}!j[l]&&m(a)&&(j.pending++,i=j[l]={},i.id=l,i.status=0,i.exports={},d.config({mod:"async noteval",root:c}),d.loadJs([a],function(a){var c,d,g=a[0];for(i.compile=new Function("module",g),i.deps=[],i.status=1;c=f.exec(g);)d=c[1],-1===b(i.deps,d)&&(i.deps.push(d),!h.test(d)&&m(d)&&(d+=".js"),q(d,e,i.id));j.pending--,0===j.pending&&r(j)}))},r=function(a){a[c].compile(a),a[c].status=2};!function(){var a=function(){for(var a=document.getElementsByTagName("script"),b=0;b<a.length;b++)if(a[b].getAttribute("data-main"))return a[b]}(),b=a.getAttribute("data-main");e=l(a.getAttribute("baseUrl")),c=b.replace(h,""),q(b,e)}(),a.require=p,a.XRequire={require:p,loader:d,module:j}}()}(window);